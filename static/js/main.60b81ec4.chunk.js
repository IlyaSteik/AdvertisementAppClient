(window.webpackJsonpminiapp=window.webpackJsonpminiapp||[]).push([[0],{357:function(e,t,a){e.exports=a(661)},447:function(e,t,a){},448:function(e,t,a){},449:function(e,t,a){},451:function(e,t,a){},468:function(e,t){},470:function(e,t){},500:function(e,t){},501:function(e,t){},545:function(e,t){},547:function(e,t){},570:function(e,t){},661:function(e,t,a){"use strict";a.r(t);a(358),a(384),a(386),a(387),a(389),a(390),a(391),a(392),a(393),a(394),a(395),a(396),a(398),a(399),a(400),a(401),a(402),a(403),a(404),a(405),a(406),a(407),a(409),a(410),a(411),a(412),a(413),a(414),a(415),a(416),a(417),a(418),a(419),a(420),a(421),a(422),a(423),a(424),a(425),a(426);var n=a(0),r=a.n(n),l=a(141),c=a.n(l),o=(a(434),a(435),a(2)),i=(a(447),a(448),a(449),a(193)),u=a(18),s=a.n(u),p=a(34),m=a(82),d=a(108),f=a(292),E=a(293),g=a(296),h=a(294),v=a(147),b=a(297),k=a(59),_=a.n(k),y=(a(451),a(679)),w=a(667),R=a(668),C=a(669),S=a(670),O=a(671),x=a(672),A=a(673),j=a(674),z=a(675),I=a(676),P=a(677),B=a(678),T=(a(452),a(192)),G=a(295),L=a.n(G);function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function V(e,t){return U.apply(this,arguments)}function U(){return(U=Object(p.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a?"?"+Object.keys(a).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(a[e])})).join("&"):"",r="".concat(t).concat(n),e.next=3,new Promise((function(e,t){fetch(r,{method:"GET"}).then((function(e){return e.json()})).then((function(t){return e(t)})).catch((function(t){return e({error:{code:-1,text:t.toString()}})}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return window.location.search.length>0&&JSON.parse('{"'+decodeURI(window.location.search.substring(1)).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')}function N(e){var t=document.createElement("a");t.href=e,t.target="_blank",t.click(),t.remove()}function W(e,t){return F.apply(this,arguments)}function F(){return(F=Object(p.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V("https://api.ad-app.ru/method/"+t,D({},H(),{},a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function K(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var J=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).state={activeStory:"apps",storyHistory:{apps:["apps"],accounts:["accounts"],groups:["groups"],stats:["stats"],advert_messages:["advert_messages"],advert_group:["advert_group"],our_advert:["our_advert"],site_content:["site_content"]},modalHistory:[],modalInfo:{},advert_messages_params:[],advert_group_params:[],selectedAppIdForWall:0,data_apps:[],data_accounts:[],data_groups:[],data_stats:[],data_advert_messages:[],data_advert_group:[],data_our_advert:[],data_site_content:[]},a.componentDidMount=a.componentDidMount.bind(Object(v.a)(a)),a.canGoBack=function(){return a.state.storyHistory[a.state.activeStory].length>1},a.back=function(){if(null!==a.state.popout)return a.setState({popout:null}),void window.history.pushState({pop:"popout"},"Title");var e=a.state,t=e.activeStory,n=e.storyHistory,r=n[t];r.length>1?(r.pop(),a.setState({storyHistory:n,snackbar:null})):_.a.send("VKWebAppClose",{status:"success"})},a.go=function(e){var t=a.state.history;t[t.length-1]!==e&&(t.push(e),window.history.pushState({activePanel:e},"Title"),a.setState({activePanel:e,history:t,snackbar:null}))},a.onStoryChange=function(e){return a.setState({activeStory:e.currentTarget.dataset.story})},a.onInputChange=function(e){var t=e.currentTarget,n=t.name,r=t.value;a.setState(Object(d.a)({},n,r))},a.modalBack=function(){var e=a.state.modalHistory;e.pop(),a.setState({modalHistory:e})},a.setActiveModal=function(e){return a.setState({modalHistory:[].concat(Object(m.a)(a.state.modalHistory),[e])})},a}return Object(b.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=Object(p.a)(s.a.mark((function e(){var t=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.addEventListener("popstate",(function(e){e.preventDefault(),t.back()})),_.a.subscribe(function(){var e=Object(p.a)(s.a.mark((function e(a){var n,r,l,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.detail,r=n.type,l=n.data,void 0!==r&&console.log(r,l),"VKWebAppUpdateConfig"===r?((c=document.createAttribute("scheme")).value=l.scheme?"client_light"===l.scheme?"bright_light":l.scheme:"bright_light",document.body.attributes.setNamedItem(c)):"VKWebAppViewRestore"===r&&t.setState({popout:null});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_.a.send("VKWebAppInit"),_.a.send("VKWebAppEnableSwipeBack"),e.t0=this,e.t1=r.a.createElement(o.B,null),e.next=8,this.api("apps.get");case 8:return e.t2=e.sent.response,e.t3={popout:e.t1,data_apps:e.t2},e.next=12,e.t0.setState.call(e.t0,e.t3);case 12:this.setState({popout:null});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"uploadFile",value:function(){var e=Object(p.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target||window.event.srcElement,n=a.files,!(FileReader&&n&&n.length)){e.next=5;break}return e.next=4,new Promise(function(){var e=Object(p.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n[0],(r=new FileReader).onload=Object(p.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.type.includes("image")&&((n=new Image).src=r.result,n.onload=Object(p.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(T.createCanvas)(n.width,n.height),a.getContext("2d").drawImage(n,0,0,n.width,n.height),e.next=4,L()({url:"https://murmuring-bastion-20764.herokuapp.com/https://api.imgbb.com/1/upload?key=b2bfb837d63c6adae4d191841abb04dc",method:"POST",form:{image:a.toDataURL("image/png").replace("data:image/png;base64,","")}},(function(e,a,n){try{200===a.statusCode?t(JSON.parse(n).data.url):(console.log("error",n),t(!1))}catch(r){console.error(r),t(!1)}}));case 4:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)}))),e.next=4,r.readAsDataURL(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"api",value:function(){var e=Object(p.a)(s.a.mark((function e(t){var a,n,r=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:{},console.log(t,a),e.next=4,W(t,a);case 4:return n=e.sent,console.log(n),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.activeStory,n=t.storyHistory,l=t.modalHistory,c=t.modalInfo,u=t.advert_messages_params,f=t.advert_messages_groups,E=t.advert_group_params,g=t.advert_group_groups,h=t.selectedAppIdForWall,v=t.data_apps,b=(t.data_accounts,t.data_groups,t.data_stats),k=(t.data_advert_message,t.data_advert_group,t.data_our_advert,t.data_site_content),_=t.uploadedFile,T=[{caption:"\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f*",icon:r.a.createElement(w.a,null),id:"apps",panels:[r.a.createElement(o.w,{id:"apps"},r.a.createElement(o.x,{left:this.canGoBack()?r.a.createElement(o.y,{onClick:this.back}):r.a.createElement(o.z,{onClick:this.back})},"\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f"),r.a.createElement(o.d,{size:"l",before:r.a.createElement(R.a,null),onClick:function(){e.setActiveModal("add-app")}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),v.map((function(t,a){return r.a.createElement(o.o,{key:"Group_".concat(a),style:{marginTop:12}},r.a.createElement(o.m,null,r.a.createElement(o.n,{mode:"horizontal"},r.a.createElement(o.l,{top:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440"},r.a.createElement(o.r,{contentEditable:!1,value:t.app_id,after:r.a.createElement(o.q,{onClick:function(){return N("https://vk.com/app"+t.app_id)}},r.a.createElement(C.a,null))})),r.a.createElement(o.l,{top:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},r.a.createElement(o.r,{contentEditable:!1,value:t.app_name}))),r.a.createElement(o.n,{mode:"horizontal"},r.a.createElement(o.l,{top:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440"},r.a.createElement(o.r,{contentEditable:!1,value:t.admin_id,after:r.a.createElement(o.q,{onClick:Object(p.a)(s.a.mark((function a(){var n;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e.setState({popout:r.a.createElement(o.B,null)}),a.next=3,e.api("account.getById",{user_id:t.admin_id});case 3:n=a.sent.response,e.setState({modalInfo:null!==n?n:{},snackbar:null===n&&r.a.createElement(o.D,{onClose:function(){return e.setState({snackbar:null})}},"\u0410\u043a\u043a\u0430\u0443\u043d\u0442\u0430 \u043d\u0435\u0442 \u0432 \u0431\u0430\u0437\u0435 \u0434\u0430\u043d\u043d\u044b\u0445")}),null!==n&&e.setActiveModal("view-profile");case 6:case"end":return a.stop()}}),a)})))},r.a.createElement(S.a,null))})),r.a.createElement(o.l,{top:"APP_URL"},r.a.createElement(o.r,{contentEditable:!1,value:t.app_url})),r.a.createElement(o.l,{top:"APP_SIGN"},r.a.createElement(o.r,{contentEditable:!1,value:t.app_sign}))),r.a.createElement(o.n,{mode:"horizontal"},r.a.createElement(o.l,{top:"\u0413\u0440\u0443\u043f\u043f\u0430 \u043d\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"},r.a.createElement(o.r,{contentEditable:!1,value:t.group_messages,after:r.a.createElement(o.q,{onClick:function(){return N("https://vk.com/public"+t.group_messages)}},r.a.createElement(C.a,null))})),r.a.createElement(o.l,{top:"\u0413\u0440\u0443\u043f\u043f\u0430 \u043d\u0430 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443"},r.a.createElement(o.r,{contentEditable:!1,value:t.group_subscribe,after:r.a.createElement(o.q,{onClick:function(){return N("https://vk.com/public"+t.group_subscribe)}},r.a.createElement(C.a,null))}))),r.a.createElement(o.j,{style:{display:"flex"}},r.a.createElement(o.d,{stretched:!0,mode:"editable",size:"m",onClick:Object(p.a)(s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.setState({modalInfo:K({},t,{index:a})});case 2:console.log(t),e.setActiveModal("edit-app");case 4:case"end":return n.stop()}}),n)})))},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),r.a.createElement(o.d,{stretched:!0,mode:"destructive",size:"m",style:{marginLeft:4}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))})))],modal:r.a.createElement(o.v,{activeModal:l[l.length-1]},r.a.createElement(o.t,{id:"view-profile",onClose:this.modalBack,header:r.a.createElement(o.u,null,"\u041f\u0440\u043e\u0444\u0438\u043b\u044c")},r.a.createElement(o.o,null,r.a.createElement(o.m,null,r.a.createElement(o.n,{mode:"horizontal"},r.a.createElement(o.l,{top:"\u041b\u043e\u0433\u0438\u043d"},r.a.createElement(o.r,{contentEditable:!1,value:c.login})),r.a.createElement(o.l,{top:"\u041f\u0430\u0440\u043e\u043b\u044c"},r.a.createElement(o.r,{contentEditable:!1,value:c.password}))),r.a.createElement(o.d,{stretched:!0,mode:"primary",size:"m",onClick:function(){return N("https://vk.com/id"+c.id)}},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438")))),r.a.createElement(o.t,{id:"edit-app",onClose:this.modalBack,header:r.a.createElement(o.u,{right:r.a.createElement(o.A,{onClick:Object(p.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={app_id:e.inputAppIdRef.value,app_name:e.inputAppNameRef.value,admin_id:e.inputAppAdminRef.value,app_url:e.inputAppUrlRef.value,app_sign:e.inputAppSignRef.value,group_messages:e.inputAppGroupMessagesRef.value,group_subscribe:e.inputAppGroupSubscribeRef.value},e.setState({popout:r.a.createElement(o.B,null)}),t.next=4,e.api("apps.edit",a);case 4:if(!(n=t.sent).error){t.next=8;break}return e.setState({popout:null,snackbar:r.a.createElement(o.D,{onClose:function(){return e.setState({snackbar:null})}},n.error.message)}),t.abrupt("return");case 8:e.modalBack(),v.splice(c.index,1,n.response),e.setState({popout:null,data_apps:v});case 11:case"end":return t.stop()}}),t)})))})},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435")},r.a.createElement(o.o,null,r.a.createElement(o.m,null,r.a.createElement(o.n,{mode:"horizontal"},r.a.createElement(o.l,{top:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440"},r.a.createElement(o.r,{defaultValue:c.app_id,getRef:function(t){return e.inputAppIdRef=t}})),r.a.createElement(o.l,{top:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},r.a.createElement(o.r,{defaultValue:c.app_name,getRef:function(t){return e.inputAppNameRef=t}}))),r.a.createElement(o.n,{mode:"horizontal"},r.a.createElement(o.l,{top:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440"},r.a.createElement(o.r,{defaultValue:c.admin_id,getRef:function(t){return e.inputAppAdminRef=t}})),r.a.createElement(o.l,{top:"APP_URL"},r.a.createElement(o.r,{defaultValue:c.app_url,getRef:function(t){return e.inputAppUrlRef=t}})),r.a.createElement(o.l,{top:"APP_SIGN"},r.a.createElement(o.r,{defaultValue:c.app_sign,getRef:function(t){return e.inputAppSignRef=t}}))),r.a.createElement(o.n,{mode:"horizontal"},r.a.createElement(o.l,{top:"\u0413\u0440\u0443\u043f\u043f\u0430 \u043d\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"},r.a.createElement(o.r,{defaultValue:c.group_messages,getRef:function(t){return e.inputAppGroupMessagesRef=t}})),r.a.createElement(o.l,{top:"\u0413\u0440\u0443\u043f\u043f\u0430 \u043d\u0430 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443"},r.a.createElement(o.r,{defaultValue:c.group_subscribe,getRef:function(t){return e.inputAppGroupSubscribeRef=t}})))))),r.a.createElement(o.t,{id:"add-app",onClose:this.modalBack,header:r.a.createElement(o.u,{right:r.a.createElement(o.A,{onClick:Object(p.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={app_id:e.inputAppIdRef.value,admin_id:e.inputAppAdminRef.value,app_url:e.inputAppUrlRef.value,app_sign:e.inputAppSignRef.value,group_messages:e.inputAppGroupMessagesRef.value,group_subscribe:e.inputAppGroupSubscribeRef.value},e.setState({popout:r.a.createElement(o.B,null)}),t.next=4,e.api("apps.add",a);case 4:if(!(n=t.sent).error){t.next=8;break}return e.setState({popout:null,snackbar:r.a.createElement(o.D,{onClose:function(){return e.setState({snackbar:null})}},n.error.message)}),t.abrupt("return");case 8:e.modalBack(),e.setState({popout:null,data_apps:[].concat(Object(m.a)(e.state.data_apps),[n.response])});case 10:case"end":return t.stop()}}),t)})))})},"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435")},r.a.createElement(o.o,null,r.a.createElement(o.m,null,r.a.createElement(o.n,{mode:"horizontal"},r.a.createElement(o.l,{top:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440"},r.a.createElement(o.r,{getRef:function(t){return e.inputAppIdRef=t}})),r.a.createElement(o.l,{top:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},r.a.createElement(o.r,{defaultValue:c.app_name,getRef:function(t){return e.inputAppNameRef=t}}))),r.a.createElement(o.n,{mode:"horizontal"},r.a.createElement(o.l,{top:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440"},r.a.createElement(o.r,{getRef:function(t){return e.inputAppAdminRef=t}})),r.a.createElement(o.l,{top:"APP_URL"},r.a.createElement(o.r,{getRef:function(t){return e.inputAppUrlRef=t}})),r.a.createElement(o.l,{top:"APP_SIGN"},r.a.createElement(o.r,{getRef:function(t){return e.inputAppSignRef=t}}))),r.a.createElement(o.n,{mode:"horizontal"},r.a.createElement(o.l,{top:"\u0413\u0440\u0443\u043f\u043f\u0430 \u043d\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"},r.a.createElement(o.r,{getRef:function(t){return e.inputAppGroupMessagesRef=t}})),r.a.createElement(o.l,{top:"\u0413\u0440\u0443\u043f\u043f\u0430 \u043d\u0430 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443"},r.a.createElement(o.r,{getRef:function(t){return e.inputAppGroupSubscribeRef=t}}))))))),method:"apps.get"},{caption:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442\u044b",icon:r.a.createElement(O.a,null),id:"accounts",panels:r.a.createElement(o.w,{id:"accounts"},r.a.createElement(o.x,{left:this.canGoBack()?r.a.createElement(o.y,{onClick:this.back}):r.a.createElement(o.z,{onClick:this.back})},"\u0410\u043a\u043a\u0430\u0443\u043d\u0442\u044b"),r.a.createElement(o.d,{size:"l",before:r.a.createElement(R.a,null),onClick:function(){e.setActiveModal("add-profile")}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),[{id:1,login:"+12345678900",password:"testpassword",access_token:"asdyu0ady81liu34j2gk3oejfiwfs7df767723h"}].map((function(t,a){return r.a.createElement(o.o,{key:"Group_".concat(a),style:{marginTop:12}},r.a.createElement(o.m,null,r.a.createElement(o.n,{mode:"horizontal"},r.a.createElement(o.l,{top:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440"},r.a.createElement(o.r,{contentEditable:!1,value:t.id,after:r.a.createElement(o.q,{onClick:function(){N("https://vk.com/id"+t.id)}},r.a.createElement(C.a,null))})),r.a.createElement(o.l,{top:"\u041b\u043e\u0433\u0438\u043d"},r.a.createElement(o.r,{contentEditable:!1,value:t.login})),r.a.createElement(o.l,{top:"\u041f\u0430\u0440\u043e\u043b\u044c"},r.a.createElement(o.r,{contentEditable:!1,value:t.password}))),r.a.createElement(o.l,{top:"\u0422\u043e\u043a\u0435\u043d"},r.a.createElement(o.r,{contentEditable:!1,value:t.access_token})),r.a.createElement(o.j,{style:{display:"flex"}},r.a.createElement(o.d,{stretched:!0,mode:"editable",size:"m",onClick:function(){e.setState({modalInfo:t}),e.setActiveModal("edit-profile")}},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),r.a.createElement(o.d,{stretched:!0,mode:"destructive",size:"m",style:{marginLeft:4}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))}))),modal:r.a.createElement(o.v,{activeModal:l[l.length-1]},r.a.createElement(o.t,{id:"edit-profile",onClose:this.modalBack,header:r.a.createElement(o.u,{right:r.a.createElement(o.A,{onClick:this.modalBack})},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435")},r.a.createElement(o.o,null,r.a.createElement(o.m,null,r.a.createElement(o.n,{mode:"horizontal"},r.a.createElement(o.l,{top:"\u041b\u043e\u0433\u0438\u043d"},r.a.createElement(o.r,{getRef:function(t){return e.inputLoginRef=t},defaultValue:c.login})),r.a.createElement(o.l,{top:"\u041f\u0430\u0440\u043e\u043b\u044c"},r.a.createElement(o.r,{getRef:function(t){return e.inputPasswordRef=t},defaultValue:c.password}))),r.a.createElement(o.l,{top:"\u0422\u043e\u043a\u0435\u043d"},r.a.createElement(o.r,{getRef:function(t){return e.inputTokenRef=t},defaultValue:c.access_token}))))),r.a.createElement(o.t,{id:"add-profile",onClose:this.modalBack,header:r.a.createElement(o.u,{right:r.a.createElement(o.A,{onClick:this.modalBack})},"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435")},r.a.createElement(o.o,null,r.a.createElement(o.m,null,r.a.createElement(o.n,{mode:"horizontal"},r.a.createElement(o.l,{top:"\u041b\u043e\u0433\u0438\u043d"},r.a.createElement(o.r,{getRef:function(t){return e.inputLoginRef=t}})),r.a.createElement(o.l,{top:"\u041f\u0430\u0440\u043e\u043b\u044c"},r.a.createElement(o.r,{getRef:function(t){return e.inputPasswordRef=t}}))),r.a.createElement(o.l,{top:"\u0422\u043e\u043a\u0435\u043d"},r.a.createElement(o.r,{getRef:function(t){return e.inputTokenRef=t}}))))))},{caption:"\u0413\u0440\u0443\u043f\u043f\u044b",icon:r.a.createElement(x.a,null),id:"groups",panels:[r.a.createElement(o.w,{id:"groups"},r.a.createElement(o.x,{left:this.canGoBack()?r.a.createElement(o.y,{onClick:this.back}):r.a.createElement(o.z,{onClick:this.back})},"\u0413\u0440\u0443\u043f\u043f\u044b"),r.a.createElement(o.d,{size:"l",before:r.a.createElement(R.a,null),onClick:function(){e.setActiveModal("add-group")}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"),[{group_id:1,title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b",photo_url:"https://i.ibb.co/pbZrHDc/coal.png",admin_id:1}].map((function(t,a){return r.a.createElement(o.o,{key:"Group_".concat(a),style:{marginTop:12}},r.a.createElement(o.m,null,r.a.createElement(o.n,{mode:"horizontal"},r.a.createElement(o.c,{size:62,src:t.photo_url,style:{marginRight:24}}),r.a.createElement(o.l,{top:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},r.a.createElement(o.r,{contentEditable:!1,value:t.title}))),r.a.createElement(o.n,{mode:"horizontal"},r.a.createElement(o.l,{top:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440"},r.a.createElement(o.r,{contentEditable:!1,value:t.group_id,after:r.a.createElement(o.q,{onClick:function(){return N("https://vk.com/public"+t.group_id)}},r.a.createElement(C.a,null))})),r.a.createElement(o.l,{top:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440"},r.a.createElement(o.r,{contentEditable:!1,value:t.admin_id,after:r.a.createElement(o.q,{onClick:function(){e.setState({modalInfo:{id:t.admin_id,login:"+12345678900",password:"testpassword"}}),e.setActiveModal("view-profile")}},r.a.createElement(S.a,null))})),r.a.createElement(o.l,{top:"PHOTO_URL"},r.a.createElement(o.r,{contentEditable:!1,value:t.photo_url}))),r.a.createElement(o.j,{style:{display:"flex"}},r.a.createElement(o.d,{stretched:!0,mode:"editable",size:"m",onClick:function(){e.setState({modalInfo:t}),e.setActiveModal("edit-group")}},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),r.a.createElement(o.d,{stretched:!0,mode:"destructive",size:"m",style:{marginLeft:4}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))})))],modal:r.a.createElement(o.v,{activeModal:l[l.length-1]},r.a.createElement(o.t,{id:"view-profile",onClose:this.modalBack,header:r.a.createElement(o.u,null,"\u041f\u0440\u043e\u0444\u0438\u043b\u044c")},r.a.createElement(o.o,null,r.a.createElement(o.m,null,r.a.createElement(o.n,{mode:"horizontal"},r.a.createElement(o.l,{top:"\u041b\u043e\u0433\u0438\u043d"},r.a.createElement(o.r,{contentEditable:!1,value:c.login})),r.a.createElement(o.l,{top:"\u041f\u0430\u0440\u043e\u043b\u044c"},r.a.createElement(o.r,{contentEditable:!1,value:c.password}))),r.a.createElement(o.d,{stretched:!0,mode:"primary",size:"m",onClick:function(){return N("https://vk.com/id"+c.id)}},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438")))),r.a.createElement(o.t,{id:"edit-group",onClose:this.modalBack,header:r.a.createElement(o.u,{right:r.a.createElement(o.A,{onClick:this.modalBack})},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435")},r.a.createElement(o.o,null,r.a.createElement(o.m,null,r.a.createElement(o.n,{mode:"horizontal"},r.a.createElement(o.l,{top:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},r.a.createElement(o.r,{getRef:function(t){return e.inputGroupNameRef=t},defaultValue:c.title})),r.a.createElement(o.l,{top:"PHOTO_URL"},r.a.createElement(o.r,{getRef:function(t){return e.inputGroupPhotoUrlRef=t},defaultValue:c.photo_url}))),r.a.createElement(o.l,{top:"\u0422\u043e\u043a\u0435\u043d"},r.a.createElement(o.r,{getRef:function(t){return e.inputGroupTokenRef=t},defaultValue:c.access_token}))))),r.a.createElement(o.t,{id:"add-group",onClose:this.modalBack,header:r.a.createElement(o.u,{right:r.a.createElement(o.A,{onClick:this.modalBack})},"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435")},r.a.createElement(o.o,null,r.a.createElement(o.m,null,r.a.createElement(o.l,{top:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},r.a.createElement(o.r,{getRef:function(t){return e.inputGroupNameRef=t}})),r.a.createElement(o.n,{mode:"horizontal"},r.a.createElement(o.l,{top:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440"},r.a.createElement(o.r,{getRef:function(t){return e.inputGroupAdminIdRef=t}})),r.a.createElement(o.l,{top:"PHOTO_URL"},r.a.createElement(o.r,{getRef:function(t){return e.inputGroupPhotoUrlRef=t}})))))))},{caption:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430*",icon:r.a.createElement(A.a,null),id:"stats",panels:[r.a.createElement(o.w,{id:"stats"},r.a.createElement(o.x,{left:this.canGoBack()?r.a.createElement(o.y,{onClick:this.back}):r.a.createElement(o.z,{onClick:this.back})},"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"),b.map((function(t,a){return r.a.createElement(o.o,{key:"Group_".concat(a),style:{marginTop:12}},r.a.createElement(o.L,{style:{margin:12},level:"2",weight:"regular"},t.app_name," \u2014 ",r.a.createElement(o.s,{href:"https://vk.com/app"+t.app_id,target:"_blank"},"app",t.app_id)),r.a.createElement(o.f,{style:{marginTop:12}},r.a.createElement(o.e,{size:"l",mode:"shadow"},r.a.createElement("div",{className:"CardStats__Container"},r.a.createElement(o.p,{weight:"regular"},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"),r.a.createElement(o.L,{style:{marginTop:4},weight:"bold",level:1},t.users),r.a.createElement(o.G,{style:{marginTop:4},weight:"semibold"},"+",t.users_today))),[["\u0418\u0441\u0442\u043e\u0440\u0438\u0439","story_shares"],["\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u043b\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f","allowed_message","group_messages"],["\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u043b\u0438\u0441\u044c \u043d\u0430 \u0433\u0440\u0443\u043f\u043f\u0443","subscribed_group","group_subscribe"]].map((function(e,a){return r.a.createElement(o.e,{key:"Card_".concat(a),size:"l",mode:"shadow"},r.a.createElement("div",{className:"CardStats__Container"},e.length>2?r.a.createElement(o.s,{target:"_blank",href:"https://vk.com/public"+[t[e[2]]]},r.a.createElement(o.p,{weight:"regular"},e[0])):r.a.createElement(o.p,{weight:"regular"},e[0]),r.a.createElement(o.L,{style:{marginTop:4},weight:"bold",level:1},t[e[1]])))})),r.a.createElement(o.e,{size:"l",mode:"shadow"},r.a.createElement("div",{className:"CardStats__Container"},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(o.s,{onClick:function(){e.setState({modalInfo:t.refs}),e.setActiveModal("info-ref")}},r.a.createElement(o.p,{weight:"regular"},"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a"))),r.a.createElement(o.L,{style:{marginTop:4},weight:"bold",level:1},Object.keys(t.refs).sort((function(e,a){return t.refs[e]-t.refs[a]})).reverse()[0]),r.a.createElement(o.G,{style:{marginTop:4},weight:"semibold"},t.refs[Object.keys(t.refs).sort((function(e,a){return t.refs[e]-t.refs[a]})).reverse()[0]])))))})))],modal:r.a.createElement(o.v,{activeModal:l[l.length-1]},r.a.createElement(o.t,{id:"info-ref",onClose:this.modalBack,header:r.a.createElement(o.u,null,"\u041f\u0435\u0440\u0435\u0445\u043e\u0434\u044b \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435")},r.a.createElement(o.o,null,[Object.keys(c).map((function(e,t){return r.a.createElement(o.j,{key:"div_".concat(t),style:{display:"flex"}},r.a.createElement(o.J,{weight:"regular"},e),r.a.createElement("span",{style:{padding:"0 4px"}}," \u2014 "),r.a.createElement(o.J,{weight:"semibold"},c[e]))}))]))),method:"stats.get"},{caption:"\u0420\u0430\u0441\u0441\u044b\u043b\u043a\u0430",icon:r.a.createElement(j.a,null),id:"advert_messages",panels:[r.a.createElement(o.w,{id:"advert_messages"},r.a.createElement(o.x,{left:this.canGoBack()?r.a.createElement(o.y,{onClick:this.back}):r.a.createElement(o.z,{onClick:this.back})},"\u0420\u0430\u0441\u0441\u044b\u043b\u043a\u0430"),r.a.createElement(o.m,null,r.a.createElement(o.l,{top:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u0440\u0443\u043f\u043f\u044b"},r.a.createElement(y.a,{showSelected:!1,closeAfterSelect:!1,value:f,onChange:function(t){return e.setState({advert_messages_groups:t})},options:[{group_id:1,title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b",photo_url:"https://i.ibb.co/pbZrHDc/coal.png",admin_id:1}].map((function(e){return{value:e.group_id,label:e.title,src:e.photo_url}})),renderOption:function(e){var t=e.option,a=t.src,n=(t.value,Object(i.a)(e,["option"]));return r.a.createElement(o.i,Object.assign({before:r.a.createElement(o.c,{size:20,src:a})},n))}})),r.a.createElement(o.l,{top:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440"},r.a.createElement(y.a,{value:u,onChange:function(t){if(e.state.advert_messages_params.length!==t.length){var a=e.state.advert_messages_params.filter((function(e){return-1===t.findIndex((function(t){return t.value===e.value}))})),n=!0,r=!1,l=void 0;try{for(var c,o=a[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){var i=c.value;e["input_messages_".concat(i.value,"_param")]=void 0}}catch(u){r=!0,l=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}}e.setState({advert_messages_params:t})},options:["message","attachment","keyboard","dont_parse_links"].map((function(e){return{value:e,label:e}})),creatable:!0})),u.map((function(t,a){return r.a.createElement(o.n,{key:"LayoutGroup_".concat(a),mode:"horizontal"},r.a.createElement(o.l,null,r.a.createElement(o.r,{contentEditable:"false",value:t.value})),r.a.createElement(o.l,null,r.a.createElement(o.r,{value:e["input_messages_".concat(t.value,"_param")],onChange:function(a){return e["input_messages_".concat(t.value,"_param")]=a.currentTarget.value}})))})),r.a.createElement(o.j,null,r.a.createElement(o.d,{size:"l"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"))))]},{caption:"\u0420\u0435\u043a\u043b\u0430\u043c\u0430 \u0432 \u0433\u0440\u0443\u043f\u043f\u0435",icon:r.a.createElement(z.a,null),id:"advert_group",panels:[r.a.createElement(o.w,{id:"advert_group"},r.a.createElement(o.x,{left:this.canGoBack()?r.a.createElement(o.y,{onClick:this.back}):r.a.createElement(o.z,{onClick:this.back})},"\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0439 \u043f\u043e\u0441\u0442"),r.a.createElement(o.m,null,r.a.createElement(o.l,{top:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u0440\u0443\u043f\u043f\u044b"},r.a.createElement(y.a,{showSelected:!1,closeAfterSelect:!1,value:g,onChange:function(t){return e.setState({advert_group_groups:t})},options:[{group_id:1,title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b",photo_url:"https://i.ibb.co/pbZrHDc/coal.png",admin_id:1}].map((function(e){return{value:e.group_id,label:e.title,src:e.photo_url}})),renderOption:function(e){var t=e.option,a=t.src,n=(t.value,Object(i.a)(e,["option"]));return r.a.createElement(o.i,Object.assign({before:r.a.createElement(o.c,{size:20,src:a})},n))}})),r.a.createElement(o.l,{top:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440"},r.a.createElement(y.a,{value:E,onChange:function(t){return e.setState({advert_group_params:t})},options:["owner_id","message","attachments","publish_date","post_id","mark_as_ads","close_comments","copyright"].map((function(e){return{value:e,label:e}})),creatable:!0})),E.map((function(t,a){return r.a.createElement(o.n,{mode:"horizontal"},r.a.createElement(o.l,null,r.a.createElement(o.r,{contentEditable:"false",value:t.value})),r.a.createElement(o.l,null,r.a.createElement(o.r,{value:e["input_group_".concat(t.value,"_param")],onChange:function(a){return e["input_group_".concat(t.value,"_param")]=a.currentTarget.value}})))})),r.a.createElement(o.j,null,r.a.createElement(o.d,{size:"l"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"))))]},{caption:"\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0435 \u0437\u0430\u043f\u0438\u0441\u0438",icon:r.a.createElement(I.a,null),id:"our_advert",panels:[r.a.createElement(o.w,{id:"our_advert"},r.a.createElement(o.x,{left:this.canGoBack()?r.a.createElement(o.y,{onClick:this.back}):r.a.createElement(o.z,{onClick:this.back})},"\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0435 \u0437\u0430\u043f\u0438\u0441\u0438"),r.a.createElement(o.d,{size:"l",before:r.a.createElement(R.a,null),onClick:function(){e.setActiveModal("add-wall")}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),r.a.createElement(o.l,{top:"\u0413\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044e"},r.a.createElement(o.C,{value:h,onChange:function(t){return e.setState({selectedAppIdForWall:t.currentTarget.value})},options:[{label:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",value:0}].concat(Object(m.a)([{admin_id:1,app_id:845657,app_name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f",group_messages:1,group_subscribe:2,app_url:"https://example.com/",app_sign:""}].map((function(e){return{label:"".concat(e.app_name," (app").concat(e.app_id,")"),value:e.app_id}}))))})),[{owner_id:-173263813,id:2490,views:3700,likes:28,comments:20,reposts:27,price:100,app_id:845656}].filter((function(e){return 0==h||e.app_id===h})).map((function(e,t){return r.a.createElement(o.o,{key:"Wall_".concat(t),style:{marginTop:12}},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(o.L,{style:{margin:12},level:"2",weight:"regular"},r.a.createElement(o.s,{href:"https://vk.com/wall".concat(e.owner_id,"_").concat(e.id),target:"_blank"},"wall".concat(e.owner_id,"_").concat(e.id))),r.a.createElement(o.q,{style:{color:"var(--destructive)"}},r.a.createElement(P.a,null))),r.a.createElement(o.f,{style:{marginTop:12}},[["\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u044b","views"],["\u041b\u0430\u0439\u043a\u0438","likes"],["\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438","comments"],["\u0420\u0435\u043f\u043e\u0441\u0442\u044b","reposts"],["\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c","price"]].map((function(t,a){return r.a.createElement(o.e,{key:"Card_".concat(a),size:"l",mode:"shadow"},r.a.createElement("div",{className:"CardStats__Container"},r.a.createElement(o.p,{weight:"regular"},t[0]),r.a.createElement(o.L,{style:{marginTop:4},weight:"bold",level:1},e[t[1]])))}))))})))],modal:r.a.createElement(o.v,{activeModal:l[l.length-1]},r.a.createElement(o.t,{id:"add-wall",onClose:this.modalBack,header:r.a.createElement(o.u,null,"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0438")},r.a.createElement(o.o,null,r.a.createElement(o.m,null,r.a.createElement(o.n,{mode:"horizontal"},r.a.createElement(o.l,{top:"\u0421\u0441\u044b\u043b\u043a\u0430"},r.a.createElement(o.r,{getRef:function(t){return e.inputWallUrlRef=t},placeholder:"vk.com/wall-1_1"})),r.a.createElement(o.l,{top:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"},r.a.createElement(o.r,{getRef:function(t){return e.inputWallPriceRef=t},type:"number"}))),r.a.createElement(o.l,{top:"APP_ID"},r.a.createElement(o.r,{getRef:function(t){return e.inputWallAppIdRef=t}})),r.a.createElement(o.d,{stretched:!0,mode:"primary",size:"m",onClick:function(){return e.modalBack()}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))))},{caption:"\u041a\u043e\u043d\u0442\u0435\u043d\u0442 \u0441\u0430\u0439\u0442\u0430*",icon:r.a.createElement(B.a,null),id:"site_content",panels:[r.a.createElement(o.w,{id:"site_content"},r.a.createElement(o.x,{left:this.canGoBack()?r.a.createElement(o.y,{onClick:this.back}):r.a.createElement(o.z,{onClick:this.back})},"\u041a\u043e\u043d\u0442\u0435\u043d\u0442 \u0441\u0430\u0439\u0442\u0430"),r.a.createElement(o.d,{size:"l",before:r.a.createElement(R.a,null),onClick:function(){e.setState({uploadedFile:!1}),e.setActiveModal("add-sticker")}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),k.map((function(t,a){return r.a.createElement(o.o,{key:"Group_".concat(a),style:{marginTop:12}},r.a.createElement(o.m,null,r.a.createElement(o.n,{mode:"horizontal"},r.a.createElement(o.c,{size:62,src:t.image}),r.a.createElement(o.l,{style:{marginLeft:12},top:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},r.a.createElement(o.r,{contentEditable:!1,value:t.title,after:r.a.createElement(o.q,{onClick:function(){return N("https://stickers.ad-app.ru/#article"+t.id)}},r.a.createElement(C.a,null))})),r.a.createElement(o.l,{top:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u044b"},r.a.createElement(o.r,{contentEditable:!1,value:t.views})),r.a.createElement(o.l,{top:"\u041b\u0430\u0439\u043a\u0438"},r.a.createElement(o.r,{contentEditable:!1,value:t.likes}))),r.a.createElement(o.l,{top:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"},r.a.createElement(o.K,{contentEditable:!1,value:t.description})),r.a.createElement(o.j,{style:{display:"flex"}},r.a.createElement(o.d,{stretched:!0,mode:"editable",size:"m",onClick:function(){e.setState({modalInfo:t,uploadedFile:!1}),e.setActiveModal("edit-sticker")}},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),r.a.createElement(o.d,{stretched:!0,mode:"destructive",size:"m",style:{marginLeft:4},onClick:Object(p.a)(s.a.mark((function n(){var r;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.api("stickers.remove",K({id:t.id},H()));case 2:(r=n.sent.response)?(k.splice(a,1),e.setState({data_site_content:k})):console.log(r.err);case 4:case"end":return n.stop()}}),n)})))},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))})))],modal:r.a.createElement(o.v,{activeModal:l[l.length-1]},r.a.createElement(o.t,{id:"add-sticker",onClose:this.modalBack,header:r.a.createElement(o.u,{right:r.a.createElement(o.A,{onClick:Object(p.a)(s.a.mark((function t(){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api("stickers.add",K({},H(),{image:_,title:e.inputStickerTitleRef.value,description:e.inputStickerDescriptionRef.value.replaceAll("\n","<br/>"),url:e.inputStickerUrlRef.value,id_:e.inputStickerIdRef.value}));case 2:a=t.sent,e.setState({data_site_content:[].concat(Object(m.a)(e.state.data_site_content),[a.response])}),e.modalBack();case 5:case"end":return t.stop()}}),t)})))})},"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435")},r.a.createElement(o.o,null,r.a.createElement(o.m,null,r.a.createElement(o.n,{mode:"horizontal"},r.a.createElement("input",{accept:".png",type:"file",multiple:!1,ref:function(t){return e.uploadStickerImageRef=t},style:{display:"none"},onChange:function(){var t=Object(p.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,e.uploadFile(a);case 3:return t.t1=t.sent,t.t2={uploadedFile:t.t1},t.abrupt("return",t.t0.setState.call(t.t0,t.t2));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),r.a.createElement(o.c,{size:62,src:_,onClick:function(){return e.uploadStickerImageRef.click()}}),r.a.createElement(o.l,{style:{marginLeft:12},top:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},r.a.createElement(o.r,{getRef:function(t){return e.inputStickerTitleRef=t}}))),r.a.createElement(o.l,{top:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"},r.a.createElement(o.K,{getRef:function(t){return e.inputStickerDescriptionRef=t}})),r.a.createElement(o.n,{mode:"horizontal"},r.a.createElement(o.l,{top:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043f\u0435\u0440\u0435\u0445\u043e\u0434"},r.a.createElement(o.r,{getRef:function(t){return e.inputStickerUrlRef=t}})),r.a.createElement(o.l,{top:"ID"},r.a.createElement(o.r,{getRef:function(t){return e.inputStickerIdRef=t}})))))),r.a.createElement(o.t,{id:"edit-sticker",onClose:this.modalBack,header:r.a.createElement(o.u,{right:r.a.createElement(o.A,{onClick:Object(p.a)(s.a.mark((function t(){var a,n,r,l,o,i,u,p;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a=[e.inputStickerTitleRef,e.inputStickerDescriptionRef,e.inputStickerUrlRef,e.inputStickerIdRef],n={},r=0,l=a;r<l.length;r++)i=(o=l[r]).dataset.key,o.value!==c[i]&&(n[i]=""===o.value?void 0:o.value);if(_&&(n.image=_),!(Object.keys(n).length>0)){t.next=12;break}return t.next=6,e.api("stickers.edit",K({},H(),{},n,{id:c.id}));case 6:if(!(u=t.sent.response)){t.next=12;break}return(p=e.state.data_site_content)[p.findIndex((function(e){return e.id===u.id}))]=u,t.next=12,e.setState({data_site_content:p});case 12:e.modalBack();case 13:case"end":return t.stop()}}),t)})))})},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435")},r.a.createElement(o.o,null,r.a.createElement(o.m,null,r.a.createElement(o.n,{mode:"horizontal"},r.a.createElement("input",{accept:".png",type:"file",multiple:!1,ref:function(t){return e.uploadStickerImageRef=t},style:{display:"none"},onChange:function(){var t=Object(p.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,e.uploadFile(a);case 3:return t.t1=t.sent,t.t2={uploadedFile:t.t1},t.abrupt("return",t.t0.setState.call(t.t0,t.t2));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),r.a.createElement(o.c,{size:62,src:_||c.image,onClick:function(){return e.uploadStickerImageRef.click()}}),r.a.createElement(o.l,{style:{marginLeft:12},top:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},r.a.createElement(o.r,{"data-key":"title",getRef:function(t){return e.inputStickerTitleRef=t},defaultValue:c.title}))),r.a.createElement(o.l,{top:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"},r.a.createElement(o.K,{"data-key":"description",getRef:function(t){return e.inputStickerDescriptionRef=t},defaultValue:c.description})),r.a.createElement(o.n,{mode:"horizontal"},r.a.createElement(o.l,{top:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043f\u0435\u0440\u0435\u0445\u043e\u0434"},r.a.createElement(o.r,{"data-key":"url",getRef:function(t){return e.inputStickerUrlRef=t},defaultValue:c.url})),r.a.createElement(o.l,{top:"ID"},r.a.createElement(o.r,{"data-key":"id_",getRef:function(t){return e.inputStickerIdRef=t},defaultValue:c.id_}))))))),method:"stickers.get"}],G=Object(o.O)((function(t){var l=t.viewWidth>=o.N.SMALL_TABLET,c={backgroundColor:"var(--button_secondary_background)",borderRadius:8};return r.a.createElement(o.F,{style:{justifyContent:"center"}},l&&r.a.createElement(o.E,{fixed:!0,width:"280px",maxWidth:"280px"},r.a.createElement(o.w,null,r.a.createElement(o.o,null,T.map((function(t,n){return r.a.createElement(o.g,{key:"Cell_".concat(n),disabled:a===t.id,style:K({marginTop:n>0&&4},a===t.id?c:{}),"data-story":t.id,onClick:function(){var a=Object(p.a)(s.a.mark((function a(n){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.onStoryChange(n),!t.method){a.next=12;break}return a.t0=e,a.t1=d.a,a.t2={popout:r.a.createElement(o.B,null)},a.t3="data_".concat(t.id),a.next=8,e.api(t.method,H());case 8:return a.t4=a.sent.response,a.t5=(0,a.t1)(a.t2,a.t3,a.t4),a.next=12,a.t0.setState.call(a.t0,a.t5);case 12:e.setState({popout:null});case 13:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),before:t.icon},t.caption)}))))),r.a.createElement(o.E,{animate:!l,spaced:l,width:l?"680px":"100%",maxWidth:l?"680px":"100%"},r.a.createElement(o.k,{activeStory:a,tabbar:!l&&r.a.createElement(o.H,null,T.map((function(t,n){return r.a.createElement(o.I,{key:"Cell_".concat(n),onClick:e.onStoryChange,selected:a===t.id,"data-story":t.id,text:t.caption},t.icon)})))},T.map((function(e,t){return r.a.createElement(o.M,{key:"View_".concat(t),id:e.id,activePanel:n[e.id][n[e.id].length-1],modal:e.modal},e.panels)}))),e.state.snackbar))}),{viewWidth:!0});return r.a.createElement(G,null)}}]),t}(r.a.Component);c.a.render(r.a.createElement(o.h,null,r.a.createElement(o.a,null,r.a.createElement(o.b,null,r.a.createElement(J,null)))),document.getElementById("root"))}},[[357,1,2]]]);
//# sourceMappingURL=main.60b81ec4.chunk.js.map